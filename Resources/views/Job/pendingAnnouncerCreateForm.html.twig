{% extends 'ClarolineCoreBundle::layout.html.twig' %}

{% block content %}
    <div class="panel panel-default">
        <div class="panel-body">
            <div class="col-md-3">
                {% set params = app.request.attributes.get('_route_params') %}
                {% if params.lang == 'fr' %}
                    {% set img = asset('bundles/formalibrejob/images/fwb.jpg') %}
                {% elseif params.lang == 'nl' %}
                    {% set img = asset('bundles/formalibrejob/images/vgs.jpg') %}
                {% else %}
                    {% set img = asset('bundles/formalibrejob/images/dgpp.jpg') %}
                {% endif %}
                <img width=200px src="{{ img }}">
            </div>
            {% form_theme form 'FormaLibreJobBundle::form_theme_captcha.html.twig' %}
            <div class="col-md-6" style="padding-top: 55px;">
                <h1 style="color: red; text-align: center;"><b> {{ 'pending_announcement_form_message'|trans({}, 'job') }} </b></h1>
                </br>
                <form id="pending-announcer-create-form"
                      action="{{ path('formalibre_job_pending_announcer_create', {'lang': lang}) }}"
                      method="POST"
                      {{ form_enctype(form) }}
                >
                    {{ form_widget(form) }}
                    <div class="captcha" style="font-size: x-small;">
                        {{ 'captcha_reason'|trans({}, 'job') }}
                    </div>
                    </br>
                    <button id="submit-btn" type="submit" class="btn btn-primary disabled">
                        {{ 'ok'|trans({}, 'platform') }}
                    </button>
                </form>
            </div>
            <div class="col-md-3"></div>
        </div>
    </div>
{% endblock %}

{% block javascripts %}
    {{ parent() }}
    <script type="text/javascript">
        $('#pending_announcer_form_userType').on('change', function () {
            var value = $(this).val();

            if (value === 'announcer') {
                $('#submit-btn').removeClass('disabled');
            } else if (value === 'seeker') {
                window.location = Routing.generate('formalibre_job_seeker_create_form');
            } else {
                $('#submit-btn').addClass('disabled');
            }
        });
    </script>
{% endblock %}
